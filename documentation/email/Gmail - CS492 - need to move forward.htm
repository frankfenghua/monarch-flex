
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<title>Gmail - CS492 - need to move forward</title>
<style type="text/css">
body, td{font-family:arial,sans-serif;font-size:80%} a:link, a:active, a:visited{color:#0000CC} img{border:0} pre { white-space: pre; white-space: -moz-pre-wrap; white-space: -o-pre-wrap; white-space: pre-wrap; word-wrap: break-word; width: 800px; overflow: auto;}
</style>
<script>
function Print(){document.body.offsetHeight;window.print()}
</script>
</head>
<body onload="Print()">
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td width=143>
<img src="/mail/help/images/logo1.gif"
width=143 height=59 alt="Gmail">
</td>
<td align=right>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></td>
</tr>
</table>
<hr>
<font size=+2>
<b>CS492 - need to move forward</b></font><br>
<font size=-1>12 messages</font>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Sun, Dec 28, 2008 at 2:21 AM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Andrew Spencer &lt;andrewpspencer@gmail.com&gt;, Doo Yong Chung &lt;dyongstar@gmail.com&gt;, Mariusz Choroszy &lt;choroszm@yahoo.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><font size="4"><b>Bad grades</b></font><br><br>I have come to the conclusion that Puneet gave us all bad grades.  I talked to someone on the &quot;bore hole&quot; team and he said that they all got A&#39;s. They didn&#39;t do jack squat, except draw lines on Google Maps.  I don&#39;t want to get another bad grade from a supposed blow-off class, so we need to make more progress and keep Puneet posted over the break. There is a big list of to-do&#39;s on the calendar on Buzzword.  I don&#39;t see anyone doing anything and submitting to the SVN repository.<br>
<br><font size="4"><b>New stats</b></font><br><br>I&#39;ve created a new table websiteDB-&gt;usersstats that stores how each individual user is speaking about each keyword. This will be useful, because the GUI can link to the account of someone trash talking some keyword.  Many website&#39;s account page has a list of the user&#39;s posts, so you can actually read what the user said. I have not updated the DB on the server because Mariusz could still be accessing old data. Use database/threadless.txt to generate the new DB when you&#39;re ready. <br>
<br><font size="4"><b>Next thing to do</b></font><br><br>Andrew, I need you to do what we were trying to do about being able to specify the number of threads to crawl instead of the number of pages.  After you finish this, you should be able to tally the goodness/count/<WBR>englishProficiency of a specific keyword over the entire thread, so we can link back to it if it&#39;s significant.  That way, we can empircally verify that our linguistics class works on real data, as Puneet wanted to see.<br><font color=#888888>
<br><br clear="all">Ryan Lin<br>
</font></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Mariusz Choroszy
&lt;choroszm@yahoo.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Sun, Dec 28, 2008 at 1:32 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
Reply-To:
choroszm@yahoo.com
</div>
<div>
To:
Ryan Lin &lt;tokyotech@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><table cellspacing="0" cellpadding="0" border="0"><tr><td valign="top" style="font:inherit">Hey,<br>Did you happen to email Woodley regarding the grade - including your concern below. It would be nice to know who or what the culprit is. Puneet seems to have a stick up his ass each time we call - always giving us little input and direction - he is probably the one. It could also be our final document - perhaps it was a bit too short?<br>As far as PROGRESS is concerned, I&#39;ll begin working on redesigning the GUI for the last time. This should take me about 2 weeks. So, if you want to make changes to the database now is the time.<br>Mariusz<br><br>--- On <b>Sun, 12/28/08, Ryan Lin <i>&lt;<a href="mailto:tokyotech@gmail.com" target="_blank">tokyotech@gmail.com</a>&gt;</i></b> wrote:<br><blockquote style="border-left:2px solid rgb(16, 16, 255);margin-left:5px;padding-left:5px">From: Ryan Lin &lt;<a href="mailto:tokyotech@gmail.com" target="_blank">tokyotech@gmail.com</a>&gt;<br>Subject: CS492 - need to move forward<br>To: &quot;Andrew Spencer&quot;
&lt;<a href="mailto:andrewpspencer@gmail.com" target="_blank">andrewpspencer@gmail.com</a>&gt;, &quot;Doo Yong Chung&quot; &lt;<a href="mailto:dyongstar@gmail.com" target="_blank">dyongstar@gmail.com</a>&gt;, &quot;Mariusz Choroszy&quot; &lt;<a href="mailto:choroszm@yahoo.com" target="_blank">choroszm@yahoo.com</a>&gt;<br>Date: Sunday, December 28, 2008, 1:21 AM<div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></blockquote></td></tr></table><br>
</font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Sun, Dec 28, 2008 at 1:47 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
choroszm@yahoo.com
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>Yeah, I did ask him for my grade breakdown, but it seems like we won&#39;t be able to dispute our grade until after the break. Is it even possible to change your transcript so late? Woodley should know that all other groups made little progress...<br>
<br><div style="margin-left:40px"><i>I have that information at my office.  I can&#39;t tell you exactly what
your personal situation is but I would be happy to review that
information with you.<br><br>
Mike</i><br></div><font color=#888888>
<br clear="all">Ryan Lin</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Andrew Spencer
&lt;andrewpspencer@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Sun, Dec 28, 2008 at 10:05 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Ryan Lin &lt;tokyotech@gmail.com&gt;
</div>
<div>
Cc:
Doo Yong Chung &lt;dyongstar@gmail.com&gt;, Mariusz Choroszy &lt;choroszm@yahoo.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>I agree. In some of my free time I&#39;ve been working on a new regex editor in Flex. With the AIR runtime we have access to the DOM of a loaded page so it is easy (or at least it should be) to manipulate and change how the page is displayed. I have been able to highlight matches of a given regex in a loaded page with some success (see attached) but there are cases where it doesn&#39;t work. I&#39;m going to end up having to reparse parts of the HTML myself but it should be possible to get this working soon. This new editor does regex matching all on the client side using ActionScript RegExp&#39;s limiting server load to a final submission. These should be (mostly) compatible with PHP regex&#39;s. I&#39;ll commit the current code but it is still under development.<br>
<br>Having worked a little bit with Flex, I don&#39;t think it is that bad. The MXML/ActionScript combo is not all that different from the HTML/Javascript thing. <br><br>The fix for specifying the number of threads is trivial and will work if there is a way of downloading pages that do not have screwed up links. I&#39;ll hopefully be able to get that done tonight also.<br>
<br>Andrew<br><br><div class="gmail_quote"><font color=#550055>On Sun, Dec 28, 2008 at 1:21 AM, Ryan Lin <span dir="ltr">&lt;<a href="mailto:tokyotech@gmail.com" target="_blank">tokyotech@gmail.com</a>&gt;</span> wrote:<br></font><blockquote class="gmail_quote" style="border-left:1px solid rgb(204, 204, 204);margin:0pt 0pt 0pt 0.8ex;padding-left:1ex"><font color=#550055>
<font size="4"><b>Bad grades</b></font><br><br>I have come to the conclusion that Puneet gave us all bad grades.  I talked to someone on the &quot;bore hole&quot; team and he said that they all got A&#39;s. They didn&#39;t do jack squat, except draw lines on Google Maps.  I don&#39;t want to get another bad grade from a supposed blow-off class, so we need to make more progress and keep Puneet posted over the break. There is a big list of to-do&#39;s on the calendar on Buzzword.  I don&#39;t see anyone doing anything and submitting to the SVN repository.<br>
<br><font size="4"><b>New stats</b></font><br><br>I&#39;ve created a new table websiteDB-&gt;usersstats that stores how each individual user is speaking about each keyword. This will be useful, because the GUI can link to the account of someone trash talking some keyword.  Many website&#39;s account page has a list of the user&#39;s posts, so you can actually read what the user said. I have not updated the DB on the server because Mariusz could still be accessing old data. Use database/threadless.txt to generate the new DB when you&#39;re ready. <br>
<br><font size="4"><b>Next thing to do</b></font><br><br></font>Andrew, I need you to do what we were trying to do about being able tonumber of pages.  After you finish this, you should be able to specify the number of threads to crawl instead of the tally the goodness/count/<WBR>englishProficiency of a specific keyword over the entire thread, so we can link back to it if it&#39;s significant.  That way, we can empircally verify that our linguistics class works on real data, as Puneet wanted to see.<br>
<font color="#888888">
<br><br clear="all">Ryan Lin<br>
</font></blockquote></div><br>
</font>
<br clear=all>
<div style="width:50%;border-top:2px #AAAAAA solid"></div>
<table class=att cellspacing=0 cellpadding=5 border=0><tr><td><table cellspacing=0 cellpadding=0><tr><td align=center><a target=_blank href="?ui=2&ik=bb1119a0ec&view=att&th=11e80b44923312c6&attid=0.1&disp=inline&realattid=f_fpajm6r10&zw"><img class=thi src=?ui=2&ik=bb1119a0ec&view=att&th=11e80b44923312c6&attid=0.1&disp=thd&realattid=f_fpajm6r10&zw></a></td><td width=7></td><td><b>regex.JPG</b><br/>212K </td></tr></table></td></tr></table>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Sun, Dec 28, 2008 at 10:38 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Andrew Spencer &lt;andrewpspencer@gmail.com&gt;
</div>
<div>
Cc:
Doo Yong Chung &lt;dyongstar@gmail.com&gt;, Mariusz Choroszy &lt;choroszm@yahoo.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>That looks like good progress. Perhaps you should post your screenshot to Puneet because he was expecting some e-mail communication over the break. And tell him to fuck himself. <br><br>I have been fixing one list item per day from the Buzzword calendar. Comments are on the Buzzword and also on the SVN log. <br><font color=#888888>
<br clear="all">Ryan Lin</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Andrew Spencer
&lt;andrewpspencer@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Mon, Dec 29, 2008 at 4:19 AM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Ryan Lin &lt;tokyotech@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>Ryan,<br><br>I have made the changes necessary in order to specify the crawl in terms of max number of thread pages (toplevel pages). The fix for the screwed up links uses libcurl and I set the user-agent to &quot;Mozilla/4.0&quot; so we see are able to download the same page that the browser does. I&#39;ll send Puneet something tomorrow.<br><font color=#888888>
<br>Andrew</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Mon, Dec 29, 2008 at 3:30 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Andrew Spencer &lt;andrewpspencer@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>That&#39;s good. <br><br>What do we do about freak cases like <a href="http://www.threadless.com/profile/513029/Jackanapes_mk_II/blog/247337/Threadquotes" target="_blank">http://www.threadless.com/<WBR>profile/513029/Jackanapes_mk_<WBR>II/blog/247337/Threadquotes</a> which has 45 pages? Maybe website-&gt;threads table needs to have a new column &quot;pages&quot;, so we can jump straight to the first unscraped page.<br><font color=#888888>
<br clear="all">Ryan Lin</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Mon, Dec 29, 2008 at 7:14 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Andrew Spencer &lt;andrewpspencer@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>I got this error when I ran the new code:<br><br><b>Fatal error</b>: Call to a member function getLevel() on a non-object in <b>C:\Program Files\wamp\www\seniorProject\<WBR>trunk\monarch\StructuredCrawl.<WBR>php</b> on line <b>145</b><br><font color=#888888>
<br clear="all">Ryan Lin</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Andrew Spencer
&lt;andrewpspencer@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Mon, Dec 29, 2008 at 8:42 PM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Ryan Lin &lt;tokyotech@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>Response to first email:<br><br>Dealing with special cases is difficult. What if we have scraped a page but more comments are added to the page after we see it? We could store a &quot;last page per thread&quot; but will that be useful for sites other than Threadless? Would that simply be a number or would we store a link? With a number, the crawler needs knowledge of how links are constructed for additional comment pages. I think we can optimize for the common case (one or two pages of comments) and we can even specify how many links we will be able to collect per page. For threads with many comment pages we can put a limit at 3-5 links that can be added from that page so that the scrape is not bogged down on that thread.<br>
<br>Response to second email:<br><br>That line number (145) doesn&#39;t make sense when I look at the code but it is likely the condition: <br>while(($url &amp;&amp; $this-&gt;toplevel_pages_crawled &lt; $this-&gt;max_toplevel_pages) || <br>
      $url-&gt;getLevel() != $this-&gt;toplevel) { <br><br>which could be changed to <br><br>while($url &amp;&amp; ($this-&gt;toplevel_pages_crawled &lt; $this-&gt;max_toplevel_pages || <br>
      $url-&gt;getLevel() != $this-&gt;toplevel) ) {<br><br>If that change doesn&#39;t work let me know and I will restart into Linux and change it.<br><br>That error should only show up if all the url lists are empty. Sorry, it was not thoroughly tested and was working fine for me using 2 as the max # of thread pages.<br><font color=#888888>
<br>Andrew <br></font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Tue, Dec 30, 2008 at 12:06 AM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Andrew Spencer &lt;andrewpspencer@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>The problem is fixed, but now testcrawl.php stalls and never terminates. See the newest revision.<br><font color=#888888><br clear="all">Ryan Lin</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Andrew Spencer
&lt;andrewpspencer@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Tue, Dec 30, 2008 at 12:22 AM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Ryan Lin &lt;tokyotech@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>A question: are you testing the new code on your Windows machine? If so you may need to install libcurl (downloads <a href="http://curl.haxx.se/download.html" target="_blank">here</a>). <br><br>It was installed by default on our RedHat machine. If you use phpinfo() there should be a table for &#39;curl&#39; with <br>
&quot;cURL support=enabled&quot;. Running the updated version on the srprj machine resulted in an error saying that the userstats table was missing. I guess I&#39;ll wait on updating the tables in case Mariusz needs the old data.<br><font color=#888888>
<br>Andrew</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
<table width=100% cellpadding=0 cellspacing=0 border=0>
<tr>
<td>
<font size=-1><b>
Ryan Lin
&lt;tokyotech@gmail.com&gt;
</b></font>
</td>
<td align=right>
<font size=-1><b>
Tue, Dec 30, 2008 at 12:39 AM
</b></font>
<tr>
<td colspan=2>
<font size=-1>
<div>
To:
Andrew Spencer &lt;andrewpspencer@gmail.com&gt;
</div>
</font>
<tr>
<td colspan=2>
<table width=100% cellpadding=12 cellspacing=0 border=0>
<tr>
<td>
<font size=-1>I&#39;ve read on the PHP docs that on Windows, you just need to uncomment something in php.ini. I did that and I don&#39;t get errors when you make those curl calls. <br><br>Mariusz says that you can do anything you want to the db because he&#39;s taking 2 weeks to redesign the whole GUI. The generation files are in folder &quot;database&quot;. After you regenerate, see if the new code loops forever. If not, it could just be my extremely slow DSL.<br><font color=#888888>
<br clear="all">Ryan Lin</font><div style='padding:5 0'><font size=1 color=#888888>[Quoted text hidden]</font></div></font>
</table>
</table>
<hr>
</body>
</html>
